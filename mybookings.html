<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Bookings - Event Management by Techies</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/2.6.0/uicons-solid-rounded/css/uicons-solid-rounded.css">
    <style>
        .bookings-container {
            padding: 30px;
        }
        .booking-tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        .tab-btn {
            padding: 10px 20px;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-weight: 500;
        }
        .tab-btn.active {
            border-bottom: 3px solid #4CAF50;
            color: #4CAF50;
        }
        .booking-card {
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 20px;
            background: white;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        .booking-info {
            flex: 2;
            min-width: 300px;
        }
        .booking-actions {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-end;
            min-width: 200px;
        }
        .booking-status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        .status-confirmed {
            background: #e8f5e9;
            color: #2e7d32;
        }
        .status-pending {
            background: #fff8e1;
            color: #ff8f00;
        }
        .status-cancelled {
            background: #ffebee;
            color: #c62828;
        }
        .action-btn {
            padding: 8px 15px;
            border-radius: 4px;
            text-decoration: none;
            margin: 5px 0;
            text-align: center;
            width: 150px;
        }
        .view-btn {
            background: #2196F3;
            color: white;
        }
        .cancel-btn {
            background: #f44336;
            color: white;
        }
        .download-btn {
            background: #4CAF50;
            color: white;
        }
        .no-bookings {
            text-align: center;
            padding: 50px;
            color: #666;
        }
        .booking-dates {
            display: flex;
            gap: 20px;
            margin: 10px 0;
        }
        .date-box {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <header>
        <div class="event__container">
            <div class="logo">
                <a href="index.html">
                    <img src="logo.jpeg" alt="Event Management by Techies Logo">
                </a>
            </div>
            <div class="sidemenu__container">
                <div class="side__menu__choice">
                    <a href="dashboard.html">
                        <div class="row">
                            <img src="dashboard.png" alt="Dashboard Icon">
                            <p>Dashboard</p>
                        </div>
                    </a>
                </div>
                <div class="side__menu__choice">
                    <a href="events.html">
                        <div class="row">
                            <img src="event.png" alt="Events Icon">
                            <p>Events</p>
                        </div>
                    </a>
                </div>
                <div class="side__menu__choice">
                    <a href="organizers.html">
                        <div class="row">
                            <img src="organizer.png" alt="Organizers Icon">
                            <p>Organizers</p>
                        </div>
                    </a>
                </div>
                <div class="side__menu__choice">
                    <a href="venues.html">
                        <div class="row">
                            <img src="venue.png" alt="Venues Icon">
                            <p>Venues</p>
                        </div>
                    </a>
                </div>
                <div class="side__menu__choice">
                    <a href="mybookings.html">
                        <div class="row">
                            <img src="booking.png" alt="My Bookings Icon">
                            <p>My Bookings</p>
                        </div>
                    </a>
                </div>
                <div class="side__menu__choice">
                    <a href="profile.html">
                        <div class="row">
                            <img src="profile.png" alt="Profile Icon">
                            <p>My Profile</p>
                        </div>
                    </a>
                </div>
            </div>
            <div class="main__content">
                <h1>My Bookings</h1>
                
                <!-- Booking Tabs -->
                <div class="booking-tabs">
                    <button class="tab-btn active" onclick="filterBookings('all')">All Bookings</button>
                    <button class="tab-btn" onclick="filterBookings('upcoming')">Upcoming</button>
                    <button class="tab-btn" onclick="filterBookings('past')">Past</button>
                    <button class="tab-btn" onclick="filterBookings('cancelled')">Cancelled</button>
                </div>
                
                <!-- Bookings Container -->
                <div class="bookings-container" id="bookingsContainer">
                    <!-- Booking cards will be dynamically inserted here -->
                </div>
            </div>
        </div>
    </header>

    <footer>
        <div class="footer__content">
            <p>&copy; 2024 Event Management by Techies. All Rights Reserved.</p>
            <div class="footer__links">
                <a href="about.html">About Us</a> | 
                <a href="contactus.html">Contact Us</a> | 
                <a href="privacy.html">Privacy Policy</a>
            </div>
        </div>
    </footer>

    <script>
        // Sample booking data
        const bookingsData = [
            {
                id: "BK2024001",
                event: "Tech Innovation Summit",
                type: "conference",
                organizer: "Tech Events India",
                venue: "Convention Center, Mumbai",
                bookingDate: "2024-05-15",
                eventDate: "2024-11-15",
                status: "confirmed",
                amount: "₹25,000",
                attendees: 3
            },
            {
                id: "BK2024002",
                event: "Bollywood Night Live",
                type: "concert",
                organizer: "Entertainment Hub",
                venue: "Open Air Theater, Delhi",
                bookingDate: "2024-06-02",
                eventDate: "2024-12-20",
                status: "confirmed",
                amount: "₹18,000",
                attendees: 2
            },
            {
                id: "BK2024003",
                event: "Premium Wedding Expo",
                type: "wedding",
                organizer: "Wedding Planners Association",
                venue: "Grand Hyatt, Bangalore",
                bookingDate: "2024-04-10",
                eventDate: "2024-10-10",
                status: "pending",
                amount: "₹12,000",
                attendees: 1
            },
            {
                id: "BK2024004",
                event: "AI & Robotics Exhibition",
                type: "exhibition",
                organizer: "Future Tech Foundation",
                venue: "Science City, Kolkata",
                bookingDate: "2024-03-22",
                eventDate: "2024-09-25",
                status: "cancelled",
                amount: "₹8,000",
                attendees: 2
            }
        ];

        // Function to render bookings
        function renderBookings(filter = 'all') {
            const container = document.getElementById('bookingsContainer');
            container.innerHTML = '';
            
            let filteredBookings = [];
            const currentDate = new Date();
            
            if (filter === 'all') {
                filteredBookings = bookingsData;
            } else if (filter === 'upcoming') {
                filteredBookings = bookingsData.filter(booking => 
                    new Date(booking.eventDate) > currentDate && booking.status !== 'cancelled'
                );
            } else if (filter === 'past') {
                filteredBookings = bookingsData.filter(booking => 
                    new Date(booking.eventDate) <= currentDate && booking.status !== 'cancelled'
                );
            } else if (filter === 'cancelled') {
                filteredBookings = bookingsData.filter(booking => 
                    booking.status === 'cancelled'
                );
            }
            
            if (filteredBookings.length === 0) {
                container.innerHTML = `
                    <div class="no-bookings">
                        <h3>No ${filter} bookings found</h3>
                        <p>You don't have any ${filter} bookings yet.</p>
                        <a href="events.html" class="action-btn view-btn" style="display: inline-block; margin-top: 20px;">
                            Browse Events
                        </a>
                    </div>
                `;
                return;
            }
            
            filteredBookings.forEach(booking => {
                const bookingCard = document.createElement('div');
                bookingCard.className = 'booking-card';
                
                const statusClass = `status-${booking.status}`;
                const statusText = booking.status.charAt(0).toUpperCase() + booking.status.slice(1);
                
                bookingCard.innerHTML = `
                    <div class="booking-info">
                        <h3>${booking.event}</h3>
                        <p>Booking ID: ${booking.id}</p>
                        <div class="booking-dates">
                            <div class="date-box">
                                <small>Booking Date</small>
                                <div>${formatDate(booking.bookingDate)}</div>
                            </div>
                            <div class="date-box">
                                <small>Event Date</small>
                                <div>${formatDate(booking.eventDate)}</div>
                            </div>
                        </div>
                        <p><i class="fi fi-sr-marker"></i> ${booking.venue}</p>
                        <p><i class="fi fi-sr-user"></i> ${booking.organizer}</p>
                        <p>Attendees: ${booking.attendees} | Amount: ${booking.amount}</p>
                        <span class="booking-status ${statusClass}">${statusText}</span>
                    </div>
                    <div class="booking-actions">
                        <a href="booking-details.html?id=${booking.id}" class="action-btn view-btn">
                            View Details
                        </a>
                        ${booking.status === 'confirmed' || booking.status === 'pending' ? `
                            <button class="action-btn cancel-btn" onclick="cancelBooking('${booking.id}')">
                                Cancel Booking
                            </button>
                        ` : ''}
                        ${booking.status === 'confirmed' ? `
                            <a href="#" class="action-btn download-btn" onclick="downloadTicket('${booking.id}')">
                                Download Ticket
                            </a>
                        ` : ''}
                    </div>
                `;
                container.appendChild(bookingCard);
            });
        }

        // Function to format date
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return new Date(dateString).toLocaleDateString('en-US', options);
        }

        // Function to filter bookings
        function filterBookings(type) {
            // Update active tab
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            renderBookings(type);
        }

        // Function to cancel booking
        function cancelBooking(bookingId) {
            if (confirm("Are you sure you want to cancel this booking?")) {
                // In a real app, this would call your backend
                alert(`Booking ${bookingId} has been cancelled.`);
                renderBookings(document.querySelector('.tab-btn.active').textContent.toLowerCase());
            }
        }

        // Function to download ticket
        function downloadTicket(bookingId) {
            alert(`Ticket for booking ${bookingId} would be downloaded.`);
            // In a real app, this would generate/download PDF
        }

        // Initial render
        document.addEventListener('DOMContentLoaded', () => {
            renderBookings();
        });
    </script>
</body>
</html>